<!--
Team 21 Sentiment Analysis
City: Melbourne
Team Members:
    Anupa Alex – 1016435
    Luiz Fernando Franco - 1019613
    Suraj Kumar Thakur - 999886
    Waneya Iqbal - 919750
    Yan Li – 984120
-->
<!DOCTYPE html>
<html style="height: 100%">

  <head>
    <meta charset="utf-8">
    <title>Group 21 Sentiment Analysis -- Map</title>
  </head>

  <body style="height: 100%; margin: 0">
    <div id="main" style="height: 100%">
    </div>
    <script type="text/javascript" src="http://libs.baidu.com/jquery/1.11.3/jquery.min.js">
    </script>
    <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts-all-3.js">
    </script>
    <script type="text/javascript">
        var myChart = echarts.init(document.getElementById('main'));
        myChart.showLoading();

        var aurindata = JSON.parse('{{ aurindata|safe }}');
        var lustdata = JSON.parse('{{ lustdata|safe }}');
        var pridedata = JSON.parse('{{ pridedata|safe }}');

        $.get('/static/melb_geojson.json', function (geoJson) {
            myChart.hideLoading();

            echarts.registerMap('melb_geojson', geoJson);

            option = {
                title: {
                    text: 'Group 21 Sentiment Analysis'
                },
                tooltip: {
                    trigger: 'item',
                    showDelay: 0,
                    transitionDuration: 0.2,
                    formatter: function (params) {
                        var value = params.value;
                        return params.seriesName + '<br/>' + params.name + ': ' + value;
                    }
                },
                legend: {
                  data: ['Richness(AURIN)', 'Lust Factor(SOCIALMEDIA)', 'Pride Factor(SOCIALMEDIA)'],
                  left: 'center',
                  top: 30
                  },

                visualMap: {
                    left: 'left',
                    min: 0,
                    max: 5,
                    inRange: {
                        color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']
                    },
                    text:['High','Low'],
                    calculable: true,
                    left: 100,
                    bottom: 50
                },
                toolbox: {
                    show: true,
                    orient: 'vertical',
                    left: 'right',
                    top: 'center',
                    feature: {
                        dataView: {readOnly: false},
                        restore: {},
                        saveAsImage: {}
                    }
                },
                series: [
                     {
                        name: 'Richness(AURIN)',
                        type: 'map',
                        roam: true,
                        mapType: 'melb_geojson',
                        itemStyle:{
                            emphasis:{label:{show:true}}
                        },
                        data: aurindata
                    },
                    {
                        name: 'Lust Factor(SOCIALMEDIA)',
                        type: 'map',
                        roam: true,
                        mapType: 'melb_geojson',
                        itemStyle:{
                            emphasis:{label:{show:true}}
                        },
                        data: lustdata
                    },
                     {
                        name: 'Pride Factor(SOCIALMEDIA)',
                        type: 'map',
                        roam: true,
                        mapType: 'melb_geojson',
                        itemStyle:{
                            emphasis:{label:{show:true}}
                        },
                        data: pridedata
                      }]
            };

            myChart.setOption(option);
        });
    </script>

</body>
</html>